<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="理论 什么是集合？有什么用？  数组其实就是一个集合。集合实际上就是一个容器，可以用来容纳其它类型的数据。   集合为什么说在开发中用的较多？  集合是一个容器，是一个载体，可以一次容纳多个对象。在实际开发中，假设连接数据库，数据库当中有10条记录，那么假设把这10条记录查询出来，在Java程序中会将10 条数据封装成10个Java对象，然后将10个Java对象放到某一个集合当中， 将集合传到前端">
<meta property="og:type" content="article">
<meta property="og:title" content="36、Java集合">
<meta property="og:url" content="http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/index.html">
<meta property="og:site_name" content="Clover Blog">
<meta property="og:description" content="理论 什么是集合？有什么用？  数组其实就是一个集合。集合实际上就是一个容器，可以用来容纳其它类型的数据。   集合为什么说在开发中用的较多？  集合是一个容器，是一个载体，可以一次容纳多个对象。在实际开发中，假设连接数据库，数据库当中有10条记录，那么假设把这10条记录查询出来，在Java程序中会将10 条数据封装成10个Java对象，然后将10个Java对象放到某一个集合当中， 将集合传到前端">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://qiniu-note-image.ctong.top/note/images/image-4cada54d072e4274b6f5e8c59fa0fad1.png">
<meta property="og:image" content="http://qiniu-note-image.ctong.top/note/images/image-616e1edf77b244b3a7da1d785d4cd934.png">
<meta property="og:image" content="http://qiniu-note-image.ctong.top/note/images/image-23aa5d91336141dba6b4360bad9e0000.png">
<meta property="og:image" content="http://qiniu-note-image.ctong.top/note/images/image-14859f1bcd424e99b0dc2ba6daedbc8d.png">
<meta property="og:image" content="http://qiniu-note-image.ctong.top/note/images/image-ba90f9f67e88403e889f24533c899ab3.png">
<meta property="og:image" content="http://qiniu-note-image.ctong.top/note/images/image-a68a038270f34891889afbb6900e7a6f.png">
<meta property="og:image" content="http://qiniu-note-image.ctong.top/note/images/image-5af85f3f650c4e868ed628e3c56d87bf.png">
<meta property="og:image" content="http://qiniu-note-image.ctong.top/note/images/image-250be5d231e44940b604645153495946.png">
<meta property="og:image" content="http://qiniu-note-image.ctong.top/note/images/image-9b321cb77b5843bcadfcb771980f5351.png">
<meta property="og:image" content="http://qiniu-note-image.ctong.top/note/images/image-c5db5bec2f244f2b96d4499565c5dcd0.png">
<meta property="og:image" content="http://qiniu-note-image.ctong.top/note/images/image-6957ab7ce01a43709f42df30f0593788.png">
<meta property="article:published_time" content="2022-01-02T09:09:04.000Z">
<meta property="article:modified_time" content="2023-05-26T09:45:32.840Z">
<meta property="article:author" content="Clover You">
<meta property="article:tag" content="JAVA">
<meta property="article:tag" content="学习笔记">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://qiniu-note-image.ctong.top/note/images/image-4cada54d072e4274b6f5e8c59fa0fad1.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>36、Java集合</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/atom.xml" title="Clover Blog" type="application/atom+xml">
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="顶部" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/about/">关于</a></li><!--
     --><!--
       --><li><a href="/archives/">归档</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="上一篇" href="/2022/01/02/37%E3%80%81Java-IO%E6%B5%81/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="下一篇" href="/2022/01/02/35%E3%80%81Java%E6%B3%9B%E5%9E%8B/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="返回顶部" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="分享文章" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/&text=36、Java集合"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/&title=36、Java集合"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/&is_video=false&description=36、Java集合"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=36、Java集合&body=Check out this article: http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/&title=36、Java集合"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/&title=36、Java集合"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/&title=36、Java集合"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/&title=36、Java集合"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/&name=36、Java集合&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/&t=36、Java集合"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%90%86%E8%AE%BA"><span class="toc-number">1.</span> <span class="toc-text">理论</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%88%E6%89%80%E6%9C%89%E5%AE%9E%E7%8E%B0%E7%B1%BB%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">总结（所有实现类）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#List%E9%9B%86%E5%90%88%E5%AD%98%E5%82%A8%E5%85%83%E7%B4%A0%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">2.1.</span> <span class="toc-text">List集合存储元素的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Set%EF%BC%88Map%EF%BC%89%E9%9B%86%E5%90%88%E5%AD%98%E5%82%A8%E5%85%83%E7%B4%A0%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">2.2.</span> <span class="toc-text">Set（Map）集合存储元素的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SortedSet%EF%BC%88SortedMap%EF%BC%89%E9%9B%86%E5%90%88%E5%AD%98%E5%82%A8%E5%85%83%E7%B4%A0%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">2.3.</span> <span class="toc-text">SortedSet（SortedMap）集合存储元素的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E5%9B%BE"><span class="toc-number">2.4.</span> <span class="toc-text">关系图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Collection%E6%8E%A5%E5%8F%A3%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">3.</span> <span class="toc-text">Collection接口中的常用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#add"><span class="toc-number">3.1.</span> <span class="toc-text">add()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#size"><span class="toc-number">3.2.</span> <span class="toc-text">size()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clear"><span class="toc-number">3.3.</span> <span class="toc-text">clear()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#contains"><span class="toc-number">3.4.</span> <span class="toc-text">contains()</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"><span class="toc-number">3.4.1.</span> <span class="toc-text">源码分析</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%92%E4%B8%80%E4%B8%8B%E6%BA%90%E7%A0%81"><span class="toc-number">3.4.1.1.</span> <span class="toc-text">扒一下源码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#remove"><span class="toc-number">3.5.</span> <span class="toc-text">remove()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isEmpty"><span class="toc-number">3.6.</span> <span class="toc-text">isEmpty()</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BA%90%E7%A0%81"><span class="toc-number">3.6.1.</span> <span class="toc-text">源码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#toArray"><span class="toc-number">3.7.</span> <span class="toc-text">toArray()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E9%9B%86%E5%90%88%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">4.</span> <span class="toc-text">关于集合迭代器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%AD%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.</span> <span class="toc-text">迭代器中的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hasNext"><span class="toc-number">4.2.</span> <span class="toc-text">hasNext()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#next"><span class="toc-number">4.3.</span> <span class="toc-text">next()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%BE%AA%E7%8E%AF"><span class="toc-number">4.4.</span> <span class="toc-text">使用循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%89%A7%E8%A1%8C%E5%8E%9F%E7%90%86%E5%86%85%E5%AD%98%E5%9B%BE"><span class="toc-number">4.5.</span> <span class="toc-text">迭代器执行原理内存图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#List%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95"><span class="toc-number">5.</span> <span class="toc-text">List接口方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#add-1"><span class="toc-number">5.1.</span> <span class="toc-text">add()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#get"><span class="toc-number">5.2.</span> <span class="toc-text">get()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#indexOf"><span class="toc-number">5.3.</span> <span class="toc-text">indexOf()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lastIndexOf"><span class="toc-number">5.4.</span> <span class="toc-text">lastIndexOf()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#remove-1"><span class="toc-number">5.5.</span> <span class="toc-text">remove()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#set"><span class="toc-number">5.6.</span> <span class="toc-text">set()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ArrayList%E9%9B%86%E5%90%88%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%8A%E6%89%A9%E5%AE%B9"><span class="toc-number">6.</span> <span class="toc-text">ArrayList集合初始化及扩容</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%86ArrayList%E8%BD%AC%E6%8D%A2%E6%88%90%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8"><span class="toc-number">6.1.</span> <span class="toc-text">将ArrayList转换成线程安全</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E5%90%91%E9%93%BE%E8%A1%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">7.</span> <span class="toc-text">单向链表数据结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Map%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">8.</span> <span class="toc-text">Map接口的常用方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E8%A1%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">9.</span> <span class="toc-text">哈希表数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#put-k%EF%BC%8Cv-%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="toc-number">9.1.</span> <span class="toc-text">put(k，v)实现原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#get-k-%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="toc-number">9.2.</span> <span class="toc-text">get(k)实现原理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E7%B1%BBProperties"><span class="toc-number">10.</span> <span class="toc-text">属性类Properties</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE"><span class="toc-number">10.1.</span> <span class="toc-text">存储数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="toc-number">10.2.</span> <span class="toc-text">取数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TreeSet-%E9%9B%86%E5%90%88"><span class="toc-number">11.</span> <span class="toc-text">TreeSet 集合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TreeSet%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E6%AF%94%E8%BE%83%E5%99%A8"><span class="toc-number">11.1.</span> <span class="toc-text">TreeSet使用自定义比较器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E5%99%A8%E5%AE%9E%E7%8E%B0"><span class="toc-number">11.1.1.</span> <span class="toc-text">比较器实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E9%83%A8%E7%B1%BB%E5%AE%9E%E7%8E%B0%E6%AF%94%E8%BE%83%E5%99%A8"><span class="toc-number">11.1.2.</span> <span class="toc-text">内部类实现比较器</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%A0%91%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">12.</span> <span class="toc-text">自平衡二叉树数据结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="toc-number">13.</span> <span class="toc-text">集合工具类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#synchronizedList"><span class="toc-number">13.1.</span> <span class="toc-text">synchronizedList</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sort"><span class="toc-number">13.2.</span> <span class="toc-text">sort</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E6%9C%80%E4%B8%BB%E8%A6%81%E6%8E%8C%E6%8F%A1%E4%BB%80%E4%B9%88%E5%86%85%E5%AE%B9%EF%BC%9F"><span class="toc-number">14.</span> <span class="toc-text">集合最主要掌握什么内容？</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        36、Java集合
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">Clover You</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2022-01-02T09:09:04.000Z" class="dt-published" itemprop="datePublished">2022-01-02</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fa-solid fa-archive"></i>
        <a class="category-link" href="/categories/Java-%E5%9F%BA%E7%A1%80/">Java 基础</a>
    </div>


      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/JAVA/" rel="tag">JAVA</a>, <a class="p-category" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag">学习笔记</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <h2 id="理论"><a href="#理论" class="headerlink" title="理论"></a>理论</h2><ol start="2">
<li><p>什么是集合？有什么用？</p>
<ul>
<li>数组其实就是一个集合。集合实际上就是一个容器，可以用来容纳其它类型的数据。</li>
</ul>
</li>
<li><p>集合为什么说在开发中用的较多？</p>
<ul>
<li>集合是一个容器，是一个载体，可以一次容纳多个对象。在实际开发中，假设连接数据库，数据库当中有10条记录，那么假设把这10条记录查询出来，在Java程序中会将10 条数据封装成10个Java对象，然后将10个Java对象放到某一个集合当中， 将集合传到前端，然后便利集合，将数据一个一个展现。</li>
</ul>
</li>
<li><p>集合不能直接存储基本数据类型，另外集合也<strong>不能直接存储Java对象</strong>，集合当中<strong>存储的都是Java对象的内存地址</strong>。(或者说集合中存储的是引用)</p>
<ul>
<li><p><code>list.add(100); </code>Java会自动装箱 –&gt; <code>Integer</code></p>
<blockquote>
<p>集合在Java中本身就是一个容器，是一个对象。</p>
<p>集合中任何时候存储的都是引用。</p>
</blockquote>
</li>
</ul>
<p> <img src="http://qiniu-note-image.ctong.top/note/images/image-4cada54d072e4274b6f5e8c59fa0fad1.png" alt="image.png">     </p>
</li>
<li><p>在Java中每一个不同的集合，底层会对应不同的数据结构。往不同的集合中存储元素，等于将数据放到了不同的数据结构当中。什么是数据结构？数据存储的结构就是数据结构。</p>
<ul>
<li>数组</li>
<li>二叉树</li>
<li>链表</li>
<li>哈希表</li>
</ul>
</li>
<li><p>集合在Java JDK中哪个包下？</p>
<ul>
<li>java.util.*;<br>所有的集合类和集合接口都在这个包下。</li>
</ul>
</li>
<li><p>在java中集合分为两大类</p>
<ul>
<li>单个方式存储元素<br>单个方式存储元素这一类集合中超级父接口：java.util.Collection;</li>
<li>键值对的方式存储元素<br>以键值对的方式存储元素，这一类集合中超级父接口：java.util.Map;</li>
</ul>
</li>
<li><p>所有集合继承<code>Iterable</code>的含义是，所有集合都是可迭代的。</p>
</li>
<li><p>List集合存储元素特点：有序可重复，存储的元素有下标。</p>
<ul>
<li>有序实际上是说存进去是这个顺序，取出来还是这个顺序，这里的顺序不是说按照大小排序。有序是因为List集合有下标，下标从0开始，以1递增。</li>
</ul>
</li>
<li><p>Set集合存储元素特点是无序不可重复。</p>
<ul>
<li>无序表示存进去是这个顺序，取出来就不一定是这个顺序了，另外Set集合中元素没有下标。Set集合中的元素不能重复。</li>
</ul>
</li>
<li><p>List接口实现类</p>
<ol>
<li>ArrayList<ul>
<li><code>ArrayList</code>集合底层采用了数组这种数据结构</li>
<li><code>ArrayList</code>是非线程安全的</li>
</ul>
</li>
<li>LinkedList<ul>
<li><code>LinkedList</code>集合底层采用了双向链表数据结构</li>
</ul>
</li>
<li>Vector<ul>
<li><code>Vector</code>集合底层采用了数组这种数据结构</li>
<li><code>Vector</code>是线程安全的</li>
<li><code>Vector</code>效率较低</li>
</ul>
</li>
</ol>
</li>
<li><p>Set接口实现类</p>
<ol>
<li>HashSet<ul>
<li>实际上HashSet集合在<code>new</code>的时候，底层实际上<code>new</code>了一个<code>HashMap</code>集合。向HashSet集合中存储元素，实际上是存储到了HashMap集合中了。</li>
<li>HashMap集合是一个哈希表数据结构。</li>
</ul>
</li>
<li><code>TreeSet</code>实现的是<code>SortedSet</code>，<code>SortedSet</code>继承的是<code>Set</code><ul>
<li><code>TreeSet</code>集合实际上<code>new</code>的时候在底层<code>new</code>了一个<code>TreeMap</code>集合。往<code>TreeSet</code>集合中放数据的时候，实际上是将数据放到<code>TreeMap</code>集合中了。</li>
<li>TreeMap集合底层采用了二叉树数据结构。</li>
</ul>
</li>
</ol>
</li>
<li><p>SortedSet集合存储元素的特点是：由于继承了Set集合，所以它的特点也是无序不可重复，但放在SortedSet集合中的元素可以自动排序。我们称为可排序集合。放到该集合中的元素是自动按照大小顺序排序的。</p>
</li>
</ol>
<p><img src="http://qiniu-note-image.ctong.top/note/images/image-616e1edf77b244b3a7da1d785d4cd934.png" alt="image.png"></p>
<ol start="13">
<li>Map<ul>
<li>Map集合和Collection集合没有关系。</li>
<li>Map集合以key和value的这种键值对的方式存储元素。</li>
<li>key和value都是存储java对象的内存地址。 </li>
<li>所有Map集合的key特点：无序不可重复</li>
</ul>
</li>
<li>HashMap<ul>
<li>HashMap集合底层是哈希表数据结构，是非线程安全的。</li>
</ul>
</li>
<li>Hashtable<ul>
<li><code>Hashtable</code>集合底层也是哈希表数据结构，是线程安全的，其中所有的方法都带有<code>synchronized</code>关键字，效率较低，现在使用较少，因为控制线程安全有其它更好的方案。</li>
</ul>
</li>
<li>Properties<ul>
<li>继承<code>Properties</code>，另外<code>Properties</code>存储元素的时候也是采用<code>key</code>和<code>value</code>的形式存储，并且<code>key</code>和<code>value</code>只支持<code>String</code>类型，不支持其它类型</li>
<li><code>Properties</code>被称为属性类。</li>
</ul>
</li>
</ol>
<p><img src="http://qiniu-note-image.ctong.top/note/images/image-23aa5d91336141dba6b4360bad9e0000.png" alt="image.png"></p>
<h2 id="总结（所有实现类）"><a href="#总结（所有实现类）" class="headerlink" title="总结（所有实现类）"></a>总结（所有实现类）</h2><ul>
<li><code>ArrayList</code>: 底层是数组。</li>
<li><code>LinkeList</code>：底层是双向链表。</li>
<li><code>Vector</code>：底层是数组，线程安全的，效率较低，使用较少。</li>
<li><code>HashSet</code>：底层是<code>HashMap</code>，放到<code>HashSet</code>集合中的元素等同于放到<code>HashMap</code>集合<code>key</code>部分。</li>
<li><code>TreeSet</code>：底层是<code>TreeMap</code>，放到了<code>TreeSet</code>集合中的元素等同于放到<code>TreeMap</code>集合<code>key</code>部分。</li>
<li><code>HashMap</code>：底层是哈希表。</li>
<li><code>Hashtable</code>：底层也是哈希表，只不过线程安全的，效率较低，使用较少。</li>
<li><code>Properties</code>：是线程安全的，并且<code>key</code>和<code>value</code>只能存储字符串<code>String</code>。</li>
<li><code>TreeMap</code>：底层是二叉树。<code>TreeMap</code>集合的<code>key</code>可以自动按照大小顺序排序。</li>
</ul>
<h3 id="List集合存储元素的特点"><a href="#List集合存储元素的特点" class="headerlink" title="List集合存储元素的特点"></a><strong>List集合存储元素的特点</strong></h3><ul>
<li>有序可重复</li>
<li>有序<br>存进去和取出的顺序相同，每一个元素都有下标。</li>
<li>可重复<br>存进去一个1还可以再存一个1</li>
</ul>
<h3 id="Set（Map）集合存储元素的特点"><a href="#Set（Map）集合存储元素的特点" class="headerlink" title="Set（Map）集合存储元素的特点"></a><strong>Set（Map）集合存储元素的特点</strong></h3><ul>
<li>无序不可重复</li>
<li>无序<br>存进去的顺序和取出的顺序不一定相同。Set集合中没有下标。</li>
<li>不可重复<br>存进去一个1就不能再存一个1</li>
</ul>
<h3 id="SortedSet（SortedMap）集合存储元素的特点"><a href="#SortedSet（SortedMap）集合存储元素的特点" class="headerlink" title="SortedSet（SortedMap）集合存储元素的特点"></a><strong>SortedSet（SortedMap）集合存储元素的特点</strong></h3><ul>
<li>无序不可重复的，但是SortedSet集合中的元素是可排序的。 </li>
<li>无序<br>存进去的顺序和取出的顺序不一定相同。Set集合中没有下标。</li>
<li>不可重复<br>存进去一个1就不能再存一个1</li>
<li>可排序<br>可以按照大小顺序排列。</li>
</ul>
<p><strong>Map集合的key，就是一个Set集合。往Set集合中放数据，实际上放到了Map集合的key部分。</strong></p>
<p><code>new HashSet().add()</code>方法源码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HashSet</span>&lt;E&gt;</span><br><span class="line">    <span class="keyword">extends</span> <span class="title class_">AbstractSet</span>&lt;E&gt;</span><br><span class="line">    <span class="keyword">implements</span> <span class="title class_">Set</span>&lt;E&gt;, Cloneable, java.io.Serializable</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">transient</span> HashMap&lt;E,Object&gt; map;</span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">HashSet</span><span class="params">()</span> &#123;</span><br><span class="line">    map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">add</span><span class="params">(E e)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> map.put(e, PRESENT)==<span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="关系图"><a href="#关系图" class="headerlink" title="关系图"></a>关系图</h3><p><img src="http://qiniu-note-image.ctong.top/note/images/image-14859f1bcd424e99b0dc2ba6daedbc8d.png" alt="image.png"></p>
<p><img src="http://qiniu-note-image.ctong.top/note/images/image-ba90f9f67e88403e889f24533c899ab3.png" alt="image.png"></p>
<h2 id="Collection接口中的常用方法"><a href="#Collection接口中的常用方法" class="headerlink" title="Collection接口中的常用方法"></a>Collection接口中的常用方法</h2><ol>
<li><p>Collection中能放什么元素？</p>
<ul>
<li>没有使用<strong>泛型</strong>之前，<code>Collection</code>中可以存储<code>Object</code>的所有子类型。使用了<strong>泛型</strong>之后，<code>Collection</code>中只能存储某个具体的类型。</li>
</ul>
</li>
<li><p>Collection中的常用方法</p>
<ul>
<li><a href="#add"><code>boolean add(Object e);</code></a>向集合中添加元素。</li>
<li><a href="#size"><code>int size();</code></a>获取集合中元素的个数。</li>
<li><a href="#clear"><code>void clear();</code></a>清空集合中全部元素。</li>
<li><a href="#contains"><code>boolean contains(Object o);</code></a>集合是否包含<code>o</code>,包含返回<code>true</code>，不包含返回<code>false</code></li>
<li><a href="#remove"><code>boolean remove(Object o);</code></a>删除集合中的某个元素，如果存在。</li>
<li><a href="#isempty"><code>boolean isEmpty();</code></a>判断集合是否为空，为空返回<code>true</code>，不为空返回<code>false</code></li>
<li><a href="#toarray"><code>Object[] toArray();</code></a>将集合转为<code>Object</code>类型数组</li>
</ul>
</li>
</ol>
<h3 id="add"><a href="#add" class="headerlink" title="add()"></a>add()</h3><p>接口无法实例化对象，因为接口是抽象的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Collection</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Collection</span>();</span><br></pre></td></tr></table></figure>

<p>实例化一个<code>Collection</code>下已实现的子类。如果不指定集合类型，那么默认为<code>Object</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Collection</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br></pre></td></tr></table></figure>

<p>添加一个值为<code>100</code>的<code>int</code>数值，<strong>JDK5以上可以自动装箱。</strong>实际上放进去了一个对象的内存地址<code>int --&gt; Intiger</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c.add(<span class="number">100</span>);</span><br></pre></td></tr></table></figure>

<p>指定类型，限制集合存储元素的类型。例如指定该集合只能存储<code>String</code>类型的数据。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Collection&lt;String&gt; c = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br></pre></td></tr></table></figure>

<p>在<code>String</code>类型的集合中存储<code>int</code>类型,出现错误:</p>
<p><code>The method add(String) in the type Collection&lt;String&gt; is not applicable for the arguments (int)</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c.add(<span class="number">100</span>);</span><br></pre></td></tr></table></figure>

<p>存储<code>String</code>类型的数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c.add(<span class="string">&quot;Hello World&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>-- <code>[Hello World]</code></p>
<h3 id="size"><a href="#size" class="headerlink" title="size()"></a>size()</h3><p>向集合中添加元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Collection&lt;Character&gt; c = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Character&gt;();</span><br><span class="line"><span class="type">String</span> <span class="variable">hiTo</span> <span class="operator">=</span> <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; hiTo.length(); i++)&#123;</span><br><span class="line">  c.add(hiTo.charAt(i));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>-- <code>[H, e, l, l, o,  , W, o, r, l, d, !]</code></p>
<p>获取集合中元素的个素，从<code>1</code>开始</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c.size();</span><br></pre></td></tr></table></figure>

<p>-- <code>12</code></p>
<h3 id="clear"><a href="#clear" class="headerlink" title="clear()"></a>clear()</h3><p>清空<a href="#size"><code>size</code></a>示例中集合元素的个数。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c.clear();</span><br></pre></td></tr></table></figure>

<p>查看元素个素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(c.size());</span><br></pre></td></tr></table></figure>

<p>-- <code>0</code></p>
<h3 id="contains"><a href="#contains" class="headerlink" title="contains()"></a>contains()</h3><p>向集合中添加元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Collection</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"><span class="type">String</span> <span class="variable">hiTo</span> <span class="operator">=</span> <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; hiTo.length(); i++)&#123;</span><br><span class="line">  c.add(hiTo.charAt(i));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>查看集合是否包含<code>H</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(c.contains(<span class="string">&quot;H&quot;</span>));</span><br></pre></td></tr></table></figure>

<p>-- <code>false</code></p>
<p>为什么返回<code>false</code>？因为<code>c.add(hiTo.charAt(i));</code>添加的是一个<code>char</code>类型的元素，<code>&quot;H&quot;</code>则是一个<code>String</code>类型的元素。<strong>两个不同的类型</strong>没有可比性</p>
<p><code>Operator &#39;==&#39; cannot be applied to &#39;char&#39;</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">&#x27;H&#x27;</span> == <span class="string">&quot;H&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>查看集合是否包含<code>char</code>类型的<code>H</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(c.contains(<span class="string">&#x27;H&#x27;</span>));</span><br></pre></td></tr></table></figure>

<p>-- <code>true</code></p>
<h4 id="源码分析"><a href="#源码分析" class="headerlink" title="源码分析"></a>源码分析</h4><p>查看集合是否包含某个元素，可以理解为某个元素是否等于某个元素。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Collection&lt;String&gt; arrayList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line"><span class="type">String</span> <span class="variable">str</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;Hi&quot;</span>);</span><br><span class="line">arrayList.add(<span class="string">&quot;Hi&quot;</span>);</span><br><span class="line">System.out.println(arrayList.contains(<span class="string">&quot;Hi&quot;</span>));<span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>所有的类都继承于<code>Object</code>，<code>Object</code>有<code>equals</code>方法，也就是说，所有的类都有<code>equals</code>方法。那么都知道<code>String</code>数据是保存在方法区的常量池里<code>==</code>比较的是的内存地址,以下程序返回<code>true</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;Hi&quot;</span> == <span class="string">&quot;Hi&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>而<code>equals</code>未重写之前源码也是使用了<code>==</code>做比较，那么下面的程序返回<code>true</code>吗？答案是<code>false</code>，上面说到，<code>==</code>比较的是内存地址,<code>String</code>对象存储在方法区的常量池中，而<code>new</code>创建的对象都保存在堆内存，那么现在你觉得它们内存地址还一样吗？说到这可能就有人说：诶！可是我输出的时候确实是输出一个<code>Hi</code>啊！emmm！你还是去看一下<code>Object</code>的源码，以及<code>System.out.println</code>的源码，这里不做过多的赘述。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;Hi&quot;</span>);</span><br><span class="line">System.out.println(str == <span class="string">&quot;Hi&quot;</span>);</span><br></pre></td></tr></table></figure>

<p><code>String</code>通常使用<code>equals</code>方法来进行比较，“诶你刚刚不是说<code>equals</code>也是使用<code>==</code>来比较吗？”,我说的是未重写之前，<code>String</code>类已经重写了<code>equals</code>方法以及<code>toString</code>方法<code>String</code>类里面的<code>equals</code>方法比较的是字符串的内容。</p>
<p>“诶你叭叭叭说这么多，不是说分析<code>contains</code>方法的源码吗？”</p>
<p>……</p>
<p>经过我上面讲的你们应该猜到<code>contains</code>大致原理了吧？</p>
<ul>
<li><code>new String</code> 不能使用双等号和<code>&quot;&quot;</code>做比较</li>
<li>双等号比较的是内存地址</li>
<li>手动<code>new</code> 的<code>String</code>对象是在堆内存，<code>&quot;&quot;</code>对象是在方法区</li>
</ul>
<p>没错！<code>contains</code>底层就是使用了<code>Object</code>的<code>equals</code>方法，这里使用的是多态，如果对比的是<code>String</code>，那么<code>equals</code>就是<code>String</code>的!!!我再问一下，<code>arrayList</code>是否包含<code>str</code>?说包含的建议源码分析从头再看一次,答案是不包含。</p>
<h5 id="扒一下源码"><a href="#扒一下源码" class="headerlink" title="扒一下源码"></a>扒一下源码</h5><p>只扒下实现源码哈！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayList</span>&lt;E&gt; <span class="keyword">extends</span> <span class="title class_">AbstractList</span>&lt;E&gt;</span><br><span class="line">        <span class="keyword">implements</span> <span class="title class_">List</span>&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="type">int</span> size;</span><br><span class="line">  <span class="keyword">transient</span> Object[] elementData;</span><br><span class="line">  <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">contains</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> indexOf(o) &gt;= <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">indexOf</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> indexOfRange(o, <span class="number">0</span>, size);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> <span class="title function_">indexOfRange</span><span class="params">(Object o, <span class="type">int</span> start, <span class="type">int</span> end)</span> &#123;</span><br><span class="line">    Object[] es = elementData;</span><br><span class="line">    <span class="keyword">if</span> (o == <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start; i &lt; end; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (es[i] == <span class="literal">null</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start; i &lt; end; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (o.equals(es[i])) &#123;</span><br><span class="line">          <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>成员变量<code>size</code>是用来记录集合长度或者说元素个数,<code>elementData</code>就是这个集合的数据。主要先看<code>indexOfRange</code>方法。</p>
<p>直接看<code>else</code>分支,这里是不是使用了<code>Object</code>的<code>equals</code>方法？那么<code>new String(&quot;Hi&quot;).equals(&quot;Hi&quot;);</code>是不是等于<code>true</code>？<strong>String重写了equals方法,String重写的equals方法比较的是内容</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (o.equals(es[i]))</span><br></pre></td></tr></table></figure>

<p>如果比较的是你自己定义的一个类，那么如果你没有重写<code>equals</code>方法，铁定是<code>false</code>，重写得看你的对比规则。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CollectionTest</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">Collection</span> <span class="variable">arrayList</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">    arrayList.add(<span class="keyword">new</span> <span class="title class_">Test</span>(<span class="string">&quot;UpYou&quot;</span>));</span><br><span class="line">    <span class="type">Test</span> <span class="variable">test</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Test</span>(<span class="string">&quot;UpYou&quot;</span>);</span><br><span class="line">    System.out.println(arrayList.contains(test));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Test</span><span class="params">(String n)</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.name = n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      <span class="type">Test</span> <span class="variable">test</span> <span class="operator">=</span> (Test) o;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>.name.equals(test.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>-- <code>true</code></p>
<h3 id="remove"><a href="#remove" class="headerlink" title="remove()"></a>remove()</h3><p>向集合中添加元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Collection</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"><span class="type">String</span> <span class="variable">hiTo</span> <span class="operator">=</span> <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; hiTo.length(); i++)&#123;</span><br><span class="line">  c.add(hiTo.charAt(i));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>删除集合中的某个元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c.remove(<span class="string">&#x27;H&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>-- <code>[e, l, l, o,  , W, o, r, l, d, !]</code></p>
<h3 id="isEmpty"><a href="#isEmpty" class="headerlink" title="isEmpty()"></a>isEmpty()</h3><p>创建一个集合</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Collection&lt;String&gt; c = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br></pre></td></tr></table></figure>

<p>判断集合是否为空</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(c.isEmpty());</span><br></pre></td></tr></table></figure>

<p>-- <code>true</code></p>
<p>向一个空的集合添加元素后判断是否为空</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c.add(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">System.out.println(c.isEmpty());</span><br></pre></td></tr></table></figure>

<p>-- <code>false</code></p>
<h4 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayList</span>&lt;E&gt; <span class="keyword">extends</span> <span class="title class_">AbstractList</span>&lt;E&gt;</span><br><span class="line">        <span class="keyword">implements</span> <span class="title class_">List</span>&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="type">int</span> size;</span><br><span class="line">  <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> size == <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="toArray"><a href="#toArray" class="headerlink" title="toArray()"></a>toArray()</h3><p>创建一个<code>String</code>集合并添加元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Collection&lt;String&gt; c = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">c.add(<span class="string">&quot;Hello World!&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>将集合转成<code>Object</code>数组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Object[] list = c.toArray();</span><br></pre></td></tr></table></figure>

<p>获取这个数组的第一个元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(list[<span class="number">0</span>]);</span><br></pre></td></tr></table></figure>

<p>-- <code>Hello World!</code></p>
<h2 id="关于集合迭代器"><a href="#关于集合迭代器" class="headerlink" title="关于集合迭代器"></a>关于集合迭代器</h2><p><code>Iterator</code>迭代器，是所有实现于<code>Iterator</code>类通用的一种方式，例如<code>Collector</code>集合。</p>
<p>创建一个集合对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Collection</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br></pre></td></tr></table></figure>

<p>添加一些元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">eles</span> <span class="operator">=</span> <span class="string">&quot;HelloWorld!&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; eles.length(); i++) &#123;</span><br><span class="line">  c.add(eles.charAt(i));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对<code>Collection</code>进行迭代，得到<code>Collection</code>的迭代器<code>Iterator</code>,在源码中，<code>Iterator</code>迭代器在内部类中实现。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> c.iterator();</span><br></pre></td></tr></table></figure>

<h3 id="迭代器中的方法"><a href="#迭代器中的方法" class="headerlink" title="迭代器中的方法"></a>迭代器中的方法</h3><ol>
<li><p><a href="#hasnext"><code>boolean hasNext();</code></a> 检查集合中是否还有元素，没有元素返回<code>false</code>，否则返回<code>true</code>。</p>
</li>
<li><p><a href="#next"><code>E next();</code></a>使得迭代器前进一位，并返回当前迭代器指针指向的元素。统一返回<code>Object</code>(存进去什么类型取出来就是什么类型)</p>
</li>
</ol>
<h3 id="hasNext"><a href="#hasNext" class="headerlink" title="hasNext()"></a>hasNext()</h3><p>查看是否是一个可迭代的状态。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="variable">hn</span> <span class="operator">=</span> iterator.hasNext();</span><br></pre></td></tr></table></figure>

<p>-- <code>true</code></p>
<h3 id="next"><a href="#next" class="headerlink" title="next()"></a>next()</h3><p>使迭代器前进一位，并返回当前迭代器指针指向的元素。统一返回<code>Object</code>类型,<strong>由于<a href="#setmap%E9%9B%86%E5%90%88%E5%AD%98%E5%82%A8%E5%85%83%E7%B4%A0%E7%9A%84%E7%89%B9%E7%82%B9">Set</a>集合特点是无序不可重复的，所以每次执行可能元素位置不一。</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Object</span> <span class="variable">item</span> <span class="operator">=</span> iterator.next();</span><br></pre></td></tr></table></figure>

<p>-- <code>!</code></p>
<h3 id="使用循环"><a href="#使用循环" class="headerlink" title="使用循环"></a>使用循环</h3><p>若想一个一个取出集合中的元素，可以使用循环来控制迭代器。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">  System.out.println(iterator.next());</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>  -- <code>!</code><br>  -- <code>r</code><br>  -- <code>d</code><br>  -- <code>e</code><br>  -- <code>W</code><br>  -- <code>H</code><br>  -- <code>l</code><br>  -- <code>o</code></p>
<h3 id="迭代器执行原理内存图"><a href="#迭代器执行原理内存图" class="headerlink" title="迭代器执行原理内存图"></a>迭代器执行原理内存图</h3><p>没执行<code>next()</code>方法之前，<code>Iterator</code>指针不会指向任何元素</p>
<p><img src="http://qiniu-note-image.ctong.top/note/images/image-a68a038270f34891889afbb6900e7a6f.png" alt="image.png"></p>
<p>第一次循环开始，执行<code>next()</code>之后,指针向前一位，并将当前指针指向的元素<code>!</code>返回</p>
<p><img src="http://qiniu-note-image.ctong.top/note/images/image-5af85f3f650c4e868ed628e3c56d87bf.png" alt="image.png"></p>
<p>第二次循环开始后，执行<code>next()</code>，指针又向前移一位，将当前指针指向的元素<code>r</code>返回</p>
<p><img src="http://qiniu-note-image.ctong.top/note/images/image-250be5d231e44940b604645153495946.png" alt="image.png"></p>
<p>循环直到<code>hasNext()</code>方法返回<code>false</code>之后结束,指针在最后一位元素的位置。<br><img src="http://qiniu-note-image.ctong.top/note/images/image-9b321cb77b5843bcadfcb771980f5351.png" alt="image.png"></p>
<p>当迭代完成之后，<code>hasNext()</code>方法会一直处于<code>false</code>的状态,如果强行使用<code>next()</code>,那么你程序的生命也就到头了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">  System.out.println(iterator.next());</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(iterator.next());</span><br></pre></td></tr></table></figure>

<p>Exception in thread “main” java.util.NoSuchElementException<br>    at java.base&#x2F;java.util.HashMap$HashIterator.nextNode(HashMap.java:1586)<br>    at java.base&#x2F;java.util.HashMap$KeyIterator.next(HashMap.java:1607)<br>    at com.upyou.collection.CollectionTest01.main(CollectionTest01.java:26)</p>
<p>当集合的结构发生改变时，迭代器必须重新获取，如果还是用以前老的迭代器，会出现异常：<code>java.util.ConcurrentModificationException</code></p>
<p>使用<code>Collection.remove</code>方法之后，集合结构发生了改变，此时迭代器没有更新。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Collection</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">c.add(<span class="number">1</span>);</span><br><span class="line">c.add(<span class="number">2</span>);</span><br><span class="line">c.add(<span class="number">3</span>);</span><br><span class="line"><span class="type">Iterator</span> <span class="variable">it</span> <span class="operator">=</span> c.iterator();</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">  <span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> it.next();</span><br><span class="line">  c.remove(o);</span><br><span class="line">  System.out.println(o);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>而如果迭代时需要删除元素，最好的办法就是使用迭代器来删除，如何使用迭代器来进行删除元素呢？别急，迭代器给我门提供了这样的一个方法: <code>remove</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Collection</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">c.add(<span class="number">1</span>);</span><br><span class="line">c.add(<span class="number">2</span>);</span><br><span class="line">c.add(<span class="number">3</span>);</span><br><span class="line"><span class="type">Iterator</span> <span class="variable">it</span> <span class="operator">=</span> c.iterator();</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">  it.next();</span><br><span class="line">  it.remove();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Iterator.remove</code>删除迭代器当前指向的元素，而<code>next</code>方法控制迭代器的指针，所以使用<code>remove</code>时必须先使用<code>next</code>，因为迭代器开始是不会指向任何元素。</p>
<blockquote>
<p>迭代器是通用的</p>
</blockquote>
<h2 id="List接口方法"><a href="#List接口方法" class="headerlink" title="List接口方法"></a>List接口方法</h2><ol>
<li>List集合存储元素特点<ul>
<li>有序可重复</li>
</ul>
</li>
<li>List既然是Collection接口的子接口，那么肯定List接口有自己“特色”的方法<ul>
<li><a href="#add-1"><code>void add(int index, E element);</code></a>向集合中指定位置插入元素。</li>
<li><a href="#get"><code>Object get(int index);</code></a>通过指定下标获取集合中的元素</li>
<li><a href="#indexof"><code>int indexOf(Object o);</code></a>获取指定对象第一次出现处的索引,如果没有返回<code>-1</code></li>
<li><a href="#lastIndexof"><code>int lastIndexOf(Object o)</code></a>获取指定对象最后一次出现的索引，如果没有返回<code>-1</code></li>
<li><a href="#remove"><code>Object remove(int index)</code></a>删除指定下标位置的元素</li>
<li><a href="#set"><code>Object set(int index, Object element)</code></a>修改指定下标位置的元素</li>
</ul>
</li>
</ol>
<h3 id="add-1"><a href="#add-1" class="headerlink" title="add()"></a>add()</h3><p>向集合中指定位置插入元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span> <span class="variable">l</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">l.add(<span class="number">1</span>);</span><br><span class="line">l.add(<span class="number">2</span>);</span><br><span class="line">l.add(<span class="number">3</span>);</span><br><span class="line">System.out.println(l);</span><br><span class="line">l.add(<span class="number">1</span>, <span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">System.out.println(l);</span><br></pre></td></tr></table></figure>

<p>-- <code>[1, 2, 3]</code></p>
<p>-- <code>[1, Hello World!, 2, 3]</code></p>
<p>这个方法使用不多，因为对于ArrayList集合来说效率比较低。</p>
<h3 id="get"><a href="#get" class="headerlink" title="get()"></a>get()</h3><p>通过指定下标获取集合中的元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span> <span class="variable">l</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">l.add(<span class="number">1</span>);</span><br><span class="line">l.add(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">l.add(<span class="number">3</span>);</span><br><span class="line">System.out.println(l.get(<span class="number">1</span>));</span><br></pre></td></tr></table></figure>

<p>-- <code>Hello World!</code></p>
<h3 id="indexOf"><a href="#indexOf" class="headerlink" title="indexOf()"></a>indexOf()</h3><p>获取指定对象第一次出现处的索引,如果没有返回<code>-1</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span> <span class="variable">l</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">l.add(<span class="number">1</span>);</span><br><span class="line">l.add(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">l.add(<span class="number">3</span>);</span><br><span class="line">System.out.println(l.indexOf(<span class="number">3</span>));</span><br><span class="line">System.out.println(l.indexOf(<span class="number">4</span>));</span><br></pre></td></tr></table></figure>

<p>-- <code>2</code></p>
<p>-- <code>-1</code></p>
<h3 id="lastIndexOf"><a href="#lastIndexOf" class="headerlink" title="lastIndexOf()"></a>lastIndexOf()</h3><p>获取指定对象最后一次出现的索引，如果没有返回<code>-1</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span> <span class="variable">l</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">l.add(<span class="number">1</span>);</span><br><span class="line">l.add(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">l.add(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">l.add(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">l.add(<span class="number">3</span>);</span><br><span class="line">System.out.println(l.lastIndexOf(<span class="string">&quot;Hello World!&quot;</span>));</span><br><span class="line">System.out.println(l.lastIndexOf(<span class="number">0</span>));</span><br></pre></td></tr></table></figure>

<p>-- <code>3</code></p>
<p>-- <code>-1</code></p>
<h3 id="remove-1"><a href="#remove-1" class="headerlink" title="remove()"></a>remove()</h3><p>删除指定下标位置的元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span> <span class="variable">l</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">l.add(<span class="number">1</span>);</span><br><span class="line">l.add(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">l.add(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">l.add(<span class="number">3</span>);</span><br><span class="line">l.remove(<span class="number">1</span>);</span><br><span class="line">System.out.println(l);</span><br></pre></td></tr></table></figure>

<p>-- <code>[1, Hello World!, 3]</code></p>
<h3 id="set"><a href="#set" class="headerlink" title="set()"></a>set()</h3><p>修改指定下标位置的元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span> <span class="variable">l</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">l.add(<span class="number">1</span>);</span><br><span class="line">l.set(<span class="number">0</span>, <span class="string">&quot;Hello monkey&quot;</span>);</span><br><span class="line">System.out.println(l);</span><br></pre></td></tr></table></figure>

<p>-- <code>[Hello monkey]</code></p>
<h2 id="ArrayList集合初始化及扩容"><a href="#ArrayList集合初始化及扩容" class="headerlink" title="ArrayList集合初始化及扩容"></a>ArrayList集合初始化及扩容</h2><ol>
<li><p>默认初始化容量10（底层先创建了一个长度为0的数组，当添加第一个元素的时候，初始化容量10）</p>
   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">DEFAULT_CAPACITY</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Object[] DEFAULTCAPACITY_EMPTY_ELEMENTDATA = &#123;&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>集合底层是一个Object[]数组</p>
</li>
<li><p>构造方法<br><code>new ArrayList();</code></p>
<p><code>new ArrayList(20);</code></p>
<p>将HashSet集合转为List集合</p>
<p><code>Collection c = new HashSet();</code></p>
<p><code>c.add(1);</code></p>
<p><code>new ArrayList(c);</code></p>
</li>
<li><p>ArrayList集合的容量</p>
<ul>
<li>增长到原容量的1.5倍</li>
<li>尽可能少扩容。因为数组扩容效率比较低，建议在使用ArrayList集合的时候预估计元素的个数，给定一个初始化容量。</li>
</ul>
</li>
<li><p>数组优缺点</p>
<ul>
<li><p>优点：检索效率比较高</p>
</li>
<li><p>缺点：随机增删元素效率低</p>
<p>数组无法存储大数据量，因为很难找到一块非常大的连续的内存空间</p>
</li>
</ul>
</li>
<li><p>向数组末尾添加元素，效率很高，不受影响。</p>
</li>
</ol>
<h3 id="将ArrayList转换成线程安全"><a href="#将ArrayList转换成线程安全" class="headerlink" title="将ArrayList转换成线程安全"></a>将ArrayList转换成线程安全</h3><p>如何将一个非线程安全的ArrayList集合转换成线程安全的呢？</p>
<ul>
<li>使用集合工具类<br><code>java.util.Collections;</code><br>注意<code>java.util.Collection;</code>是集合接口</li>
</ul>
<p>非线程安全</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">list.add(<span class="string">&quot;upyou&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>转换成线程安全的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">Collections.synchronizedList(list);</span><br><span class="line">list.add(<span class="string">&quot;upyou&quot;</span>);</span><br></pre></td></tr></table></figure>


<h2 id="单向链表数据结构"><a href="#单向链表数据结构" class="headerlink" title="单向链表数据结构"></a>单向链表数据结构</h2><ol>
<li><p>对于链表数据结构来说，基本的单元是节点Node。</p>
</li>
<li><p>对于单链表来说，任何一个节点Node中都有两个属性</p>
<ul>
<li>存储的数据</li>
<li>下一节点的内存地址</li>
</ul>
</li>
<li><p>链表优缺点</p>
<ul>
<li><p>优点<br>随机增删元素效率较高，因为增删元素不涉及到大量元素位移</p>
</li>
<li><p>缺点</p>
<p>不能通过数学表达式计算被查找元素的内存地址，每一次查找时都需要一个一个的去找</p>
</li>
</ul>
</li>
</ol>
<p><img src="http://qiniu-note-image.ctong.top/note/images/image-c5db5bec2f244f2b96d4499565c5dcd0.png" alt="image.png"></p>
<h2 id="Map接口的常用方法"><a href="#Map接口的常用方法" class="headerlink" title="Map接口的常用方法"></a>Map接口的常用方法</h2><ol>
<li>Map和Collection没有继承关系</li>
<li>Map集合以key和value的方式存储数据：俗称键值对<ul>
<li>key和value都是引用数据类型</li>
<li>key和value都是存储对象的内存地址</li>
<li>key起到主导的地位，value是key的一个附属品</li>
</ul>
</li>
<li>Map集合中的常用方法<ul>
<li><code>void clear()</code> 清空Map</li>
<li><code>boolean containsValue(Object value)</code> 判断Map中是否包含某个value</li>
<li><code>V get(Object key)</code> 通过key获取value</li>
<li><code>boolean isEmpty()</code> 判断Map集合中的元素个数是否为0</li>
<li><code>Set&lt;K&gt; keySet()</code> 获取Map集合所有的Key </li>
<li><code>V put(K key, V value)</code> 向Map集合中添加键值对</li>
<li><code>V remove(Object key)</code> 通过key删除键值对</li>
<li><code>int size()</code>获取集合长度</li>
<li><code>Collection&lt;V&gt; values()</code>获取Map集合中所有的value，返回一个Collection</li>
<li><code>Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()</code>将Map集合转成Set集合</li>
</ul>
</li>
</ol>
<h2 id="哈希表数据结构"><a href="#哈希表数据结构" class="headerlink" title="哈希表数据结构"></a>哈希表数据结构</h2><ol>
<li><p>HashMap集合底层是哈希表的数据结构。</p>
</li>
<li><p>哈希表是一个数组和单向链表的结合体 。</p>
</li>
<li><p>哈希值是key的 <code>hashCode</code> 方法的执行结果。</p>
</li>
<li><p>哈希表HashMap使用不当时无法发挥性能！<br>假设将所有的hashCode返回值固定为某个值，那么会导致底层哈希表变成了纯单向链表。这种情况我们称为：散列分布不均匀。</p>
<ul>
<li>什么是散列分布均匀？<br>假设有100个元素，10个单向链表，那么每个单向链表上有10个节点，这是最好的，是散列分布均匀的。</li>
<li>假设将所有的hashCode方法返回值都设定为不一样的值，可以吗，有什么问题？<br>不行，因为这样的话导致底层哈希表就成为一维数组了，没有链表的概念了。也是散列分布不均匀。</li>
<li>散列分布均匀需要你重写hashCode方法时有一定的技巧。</li>
</ul>
</li>
<li><p>放在<code>HashMap</code>集合key部分的元素，以及放在<code>HashSet</code>集合中的元素，需要同时重写<code>hashCode</code>和<code>equals</code>方法。</p>
</li>
<li><p>HashMap集合的默认初始化容量是16，默认加载因子是0.75，这个默认加载因子是当HashMap集合底层数组的容量达到75%的时候，数组开始扩容。</p>
<p>HashMap集合初始化容量必须是2的倍数，这也是官方推荐的，这是因为达到散列均匀，为了提高HashMap集合的存取效率所必须的。</p>
</li>
<li><p>向Map集合中存取，都是先调用key的hashCode方法，让后再调用equals方法！equals方法有可能调用，也有可能不调用。</p>
<ul>
<li><p>拿put(k, v)举例，什么时候equals不会调用？<br>k.hashCode()方法返回哈希值，哈希值经过哈希算法转换成数组下标。</p>
<p>数组下标位置上如果是null，equals不需要执行。</p>
</li>
<li><p>拿get(k)举例，什么时候equals不会调用？</p>
<p>k.hashCode()方法返回哈希值，哈希值经过哈希算法转换成数组下标。数组下标位置上如果是null，equals不需要执行。</p>
</li>
</ul>
</li>
<li><p>放在HashMap集合key部分的，以及放在HashSet集合中的元素，需要同时重写hashCode方法和equals方法。</p>
</li>
</ol>
<h3 id="put-k，v-实现原理"><a href="#put-k，v-实现原理" class="headerlink" title="put(k，v)实现原理"></a>put(k，v)实现原理</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> V <span class="title function_">put</span><span class="params">(K key, V value)</span>&#123;...&#125;</span><br></pre></td></tr></table></figure>

<p>第一步：将<code>k</code>和<code>v</code>封装到<code>Node</code>对象中</p>
<p>第二步：底层会调用<code>k</code>的<code>hashCode</code>方法得出hash值，然后通过哈希函数&#x2F;哈希算法，将hash值转成数组的下标，下标位置上如果没有任何元素，就把Node添加到这个位置上。如果下标对应的位置上有链表，此时会拿着<code>k</code>和链表上每一个节点中的<code>k</code>进行<code>equals</code>，如果所有的<code>equals</code>方法返回都是<code>false</code>，那么这个新节点将被添加到链表的末尾，如果其中有一个<code>equals</code>返回了<code>true</code>，那么这个节点的<code>value</code>将会被覆盖。</p>
<h3 id="get-k-实现原理"><a href="#get-k-实现原理" class="headerlink" title="get(k)实现原理"></a>get(k)实现原理</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> V <span class="title function_">get</span><span class="params">(Object key)</span> &#123;...&#125;</span><br></pre></td></tr></table></figure>

<p>第一步：先调用k的hashCode方法得出哈希值，通过哈希算法转换成数组下标，通过数组下标快速定位到某个位置上，如果这个位置上什么也没有，返回null，如果这个位置上有单向链表，那么对单向链表上的每个节点中的k进行equals，如果所有equals方法返回<code>false</code>，那么get方法返回<code>null</code>，只要其中有一个节点的k和参数k equals的时候返回<code>true</code>，那么此时这个节点的value就是需要找的value。get方法最终返回这个要找的value。</p>
<h2 id="属性类Properties"><a href="#属性类Properties" class="headerlink" title="属性类Properties"></a>属性类Properties</h2><p>Properties是一个Map集合，继承Hashtable，Properties的key和value都是String类型</p>
<p>Properties被称为属性类对象</p>
<p>Properties是线程安全的</p>
<h3 id="存储数据"><a href="#存储数据" class="headerlink" title="存储数据"></a>存储数据</h3><p>properties 通过setProperty方法来存储数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pro.setProperty(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;UpYou&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="取数据"><a href="#取数据" class="headerlink" title="取数据"></a>取数据</h3><p>properties 通过getProperty方法来获取数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(pro.getProperty(<span class="string">&quot;name&quot;</span>));</span><br></pre></td></tr></table></figure>


<h2 id="TreeSet-集合"><a href="#TreeSet-集合" class="headerlink" title="TreeSet 集合"></a>TreeSet 集合</h2><ol>
<li>TreeSet集合底层实际上是一个TreeMap</li>
<li>TreeMap集合底层是一个二叉树</li>
<li>放到TreeSet集合中的元素，等同于放到TreeMap集合key部分了</li>
<li>TreeSet集合中的元素：无序不可重复，但是可以按照元素的大小顺序自动排序，称为：可排序集合</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">TreeSet&lt;String&gt; ts = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br><span class="line">ts.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">ts.add(<span class="string">&quot;d&quot;</span>);</span><br><span class="line">ts.add(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">ts.add(<span class="string">&quot;h&quot;</span>);</span><br><span class="line">ts.add(<span class="string">&quot;m&quot;</span>);</span><br><span class="line">ts.add(<span class="string">&quot;s&quot;</span>); </span><br></pre></td></tr></table></figure>

<p>输出</p>
<p>– <code>a</code><br>– <code>b</code><br>– <code>d</code><br>– <code>h</code><br>– <code>m</code><br>– <code>s</code></p>
<p><strong>对TreeSet来说，自定义类型可以排序吗？</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Learn</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">// System.out.println(&quot;Hello World!&quot;);</span></span><br><span class="line">    <span class="type">Person</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="type">Person</span> <span class="variable">p2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    TreeSet&lt;Person&gt; persons = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br><span class="line">    persons.add(p1);</span><br><span class="line">    persons.add(p2);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (Person p : persons) &#123;</span><br><span class="line">      System.out.println(p);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span>  <span class="title class_">Person</span>&#123;</span><br><span class="line">  <span class="type">int</span> age;</span><br><span class="line">  Person(<span class="type">int</span> age) &#123;</span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;年龄是：&quot;</span> + <span class="built_in">this</span>.age;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>程序执行出现错误 <code>Exception in thread &quot;main&quot; java.lang.ClassCastException: Person cannot be cast to java.lang.Comparable</code>。</p>
<p>对于<code>Person</code>类型来说是无法排序的，因为没有指定Person对象之间的比较规则。对于Person排序需要实现<code>java.lang.Comparable</code>接口。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Person&gt;&#123;</span><br><span class="line">  <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">  Person(<span class="type">int</span> age) &#123;</span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 实现Comparable中的comparaTo方法</span></span><br><span class="line">  <span class="comment">// 需要在这个方法中编写比较的逻辑、或者说比较的规则，按照什么比较！</span></span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Person o)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.age - o.age;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;年龄是：&quot;</span> + <span class="built_in">this</span>.age;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果</p>
<p>– <code>年龄是：1</code><br>– <code>年龄是：2</code></p>
<p><code>k.compareTo(t.key)</code><br>拿着参数k和集合中的每一个k进行比较，返回值可能是 &gt;0 &lt;0 &#x3D;0，比较规则最终还是由我们自己规定。例如：按照年龄升序、降序。</p>
<blockquote>
<p>放在TreeSet集合中的元素需要实现java.lang.Comparable接口，并且实现compareTo方法。</p>
<p>TreeSet中的自动排序是通过二叉树的方式进行排序。</p>
</blockquote>
<h3 id="TreeSet使用自定义比较器"><a href="#TreeSet使用自定义比较器" class="headerlink" title="TreeSet使用自定义比较器"></a>TreeSet使用自定义比较器</h3><p>TreeSet可以使用自定义比较器来比较，TreeSet底层是TreeMap，我就不过多讲述了，就把源码中重要的代码copy出来！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> Comparator&lt;? <span class="built_in">super</span> K&gt; comparator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">TreeMap</span><span class="params">(Comparator&lt;? <span class="built_in">super</span> K&gt; comparator)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.comparator = comparator;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> Entry&lt;K,V&gt; <span class="title function_">getEntry</span><span class="params">(Object key)</span> &#123;</span><br><span class="line">  <span class="comment">// Offload comparator-based version for sake of performance</span></span><br><span class="line">  <span class="keyword">if</span> (comparator != <span class="literal">null</span>) <span class="comment">// 使用自定义比较器</span></span><br><span class="line">    <span class="keyword">return</span> getEntryUsingComparator(key);</span><br><span class="line">  <span class="keyword">if</span> (key == <span class="literal">null</span>)</span><br><span class="line">  	......</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="比较器实现"><a href="#比较器实现" class="headerlink" title="比较器实现"></a>比较器实现</h4><p>比较器需要实现<code>java.util.Comparator</code>接口。（Comparable是java.lang包下的。Comparator是java.util包下的）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">PersonComparator</span> <span class="keyword">implements</span> <span class="title class_">Comparator</span>&lt;Person&gt; &#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Person o1, Person o2)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> o1.age - o2.age;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Person</code>就不需要实现<code>Comparable</code>接口了，因为我们自定义了一个比较器，把我们自定义的比较器给到<code>TreeSet</code>去使用就好：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TreeSet&lt;Person&gt; persons = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">PersonComparator</span>());</span><br></pre></td></tr></table></figure>

<h4 id="内部类实现比较器"><a href="#内部类实现比较器" class="headerlink" title="内部类实现比较器"></a>内部类实现比较器</h4><p>为了减少java文件，也可以使用内部类的方式来实现比较器：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">TreeSet&lt;Person&gt; persons = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Person&gt;()&#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Person o1, Person o2)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;使用的是内部类！&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> o1 - o2;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<blockquote>
<p>放到TreeSet或者TreeMap集合key部分的元素想做到排序，包括两种方式：</p>
<ol>
<li>放在集合中的元素实现java.lang.Comparable接口</li>
<li>在构造TreeSet或者TreeMap集合的时候给它传一个比较器对象。</li>
</ol>
<p>Comparable和Comparator如何选择？</p>
<ol>
<li>如果比较规则不会轻易改变那么选择Comparable</li>
<li>如果比较规则不定，或者需要多个比较规则之间频繁切换，那么使用Comparator，Comparator接口的设计符合OCP原则。</li>
</ol>
</blockquote>
<h2 id="自平衡二叉树数据结构"><a href="#自平衡二叉树数据结构" class="headerlink" title="自平衡二叉树数据结构"></a>自平衡二叉树数据结构</h2><ol>
<li><p>TreeSet、TreeMap是自平衡二叉树，遵循左小右大的原则。</p>
</li>
<li><p>遍历二叉树的时候有三种方式</p>
<ul>
<li>前序遍历：根左右</li>
<li>中序遍历：左根右</li>
<li>后序遍历：左右根</li>
</ul>
<blockquote>
<p>前中后说的是“根”的位置。根在前面是前序，根在中间是中序，根在后面是后序。</p>
</blockquote>
</li>
<li><p>TreeSet集合&#x2F;TreeMap集合采用的是：中序遍历方式，Iterator迭代器采用的是中序遍历方式。左根右。</p>
</li>
<li><p>100，200，50，60，80，120，140，130，135，180，666，40，55<br><img src="http://qiniu-note-image.ctong.top/note/images/image-6957ab7ce01a43709f42df30f0593788.png" alt="image.png"></p>
</li>
</ol>
<h2 id="集合工具类"><a href="#集合工具类" class="headerlink" title="集合工具类"></a>集合工具类</h2><p>Java.util.Collection 集合接口</p>
<p>Java.util.Collections 集合工具类，方便集合的操作。</p>
<h3 id="synchronizedList"><a href="#synchronizedList" class="headerlink" title="synchronizedList"></a>synchronizedList</h3><p>可将不是线程安全的集合变成线程安全的：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; arrList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">Collections.synchronizedList(arrList);</span><br></pre></td></tr></table></figure>

<h3 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h3><p>可对<code>List</code>集合进行排序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; arrList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">Collections.sort(arrList);</span><br></pre></td></tr></table></figure>

<p>sort 也支持传入比较器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Person&gt; arrList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">arrList.add(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="number">1</span>));</span><br><span class="line">arrList.add(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="number">3</span>));</span><br><span class="line">arrList.add(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="number">9</span>));</span><br><span class="line">arrList.add(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="number">2</span>));</span><br><span class="line"><span class="comment">// 自定义比较器</span></span><br><span class="line">Collections.sort(arrList, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Person&gt;() &#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Person o1, Person o2)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> o1.age - o2.age;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>对Set集合进行排序的时，需要将Set集合转成List集合</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;String&gt; s = ne-qw HashSet&lt;&gt;();</span><br><span class="line">List&lt;String&gt; arrList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(s);</span><br><span class="line">Collections.sort(arrList);</span><br></pre></td></tr></table></figure>

<h2 id="集合最主要掌握什么内容？"><a href="#集合最主要掌握什么内容？" class="headerlink" title="集合最主要掌握什么内容？"></a>集合最主要掌握什么内容？</h2><ol>
<li>每个集合对象的创建（new）</li>
<li>向集合中添加元素</li>
<li>从集合中取出某个元素</li>
<li>遍历集合</li>
<li>主要的集合类<ul>
<li>ArrayList</li>
<li>LinkedList</li>
<li>HashSet</li>
<li>TreeSet</li>
<li>HashMap</li>
<li>Properties</li>
<li>TreeMap</li>
</ul>
</li>
</ol>
<blockquote>
<p>类在转成某个接口类型的时候不需要有继承关系。</p>
</blockquote>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">首页</a></li>
        
          <li><a href="/about/">关于</a></li>
        
          <li><a href="/archives/">归档</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%90%86%E8%AE%BA"><span class="toc-number">1.</span> <span class="toc-text">理论</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%88%E6%89%80%E6%9C%89%E5%AE%9E%E7%8E%B0%E7%B1%BB%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">总结（所有实现类）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#List%E9%9B%86%E5%90%88%E5%AD%98%E5%82%A8%E5%85%83%E7%B4%A0%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">2.1.</span> <span class="toc-text">List集合存储元素的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Set%EF%BC%88Map%EF%BC%89%E9%9B%86%E5%90%88%E5%AD%98%E5%82%A8%E5%85%83%E7%B4%A0%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">2.2.</span> <span class="toc-text">Set（Map）集合存储元素的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SortedSet%EF%BC%88SortedMap%EF%BC%89%E9%9B%86%E5%90%88%E5%AD%98%E5%82%A8%E5%85%83%E7%B4%A0%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">2.3.</span> <span class="toc-text">SortedSet（SortedMap）集合存储元素的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E5%9B%BE"><span class="toc-number">2.4.</span> <span class="toc-text">关系图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Collection%E6%8E%A5%E5%8F%A3%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">3.</span> <span class="toc-text">Collection接口中的常用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#add"><span class="toc-number">3.1.</span> <span class="toc-text">add()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#size"><span class="toc-number">3.2.</span> <span class="toc-text">size()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clear"><span class="toc-number">3.3.</span> <span class="toc-text">clear()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#contains"><span class="toc-number">3.4.</span> <span class="toc-text">contains()</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"><span class="toc-number">3.4.1.</span> <span class="toc-text">源码分析</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%92%E4%B8%80%E4%B8%8B%E6%BA%90%E7%A0%81"><span class="toc-number">3.4.1.1.</span> <span class="toc-text">扒一下源码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#remove"><span class="toc-number">3.5.</span> <span class="toc-text">remove()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isEmpty"><span class="toc-number">3.6.</span> <span class="toc-text">isEmpty()</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BA%90%E7%A0%81"><span class="toc-number">3.6.1.</span> <span class="toc-text">源码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#toArray"><span class="toc-number">3.7.</span> <span class="toc-text">toArray()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E9%9B%86%E5%90%88%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">4.</span> <span class="toc-text">关于集合迭代器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%B8%AD%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.</span> <span class="toc-text">迭代器中的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hasNext"><span class="toc-number">4.2.</span> <span class="toc-text">hasNext()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#next"><span class="toc-number">4.3.</span> <span class="toc-text">next()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%BE%AA%E7%8E%AF"><span class="toc-number">4.4.</span> <span class="toc-text">使用循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%89%A7%E8%A1%8C%E5%8E%9F%E7%90%86%E5%86%85%E5%AD%98%E5%9B%BE"><span class="toc-number">4.5.</span> <span class="toc-text">迭代器执行原理内存图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#List%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95"><span class="toc-number">5.</span> <span class="toc-text">List接口方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#add-1"><span class="toc-number">5.1.</span> <span class="toc-text">add()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#get"><span class="toc-number">5.2.</span> <span class="toc-text">get()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#indexOf"><span class="toc-number">5.3.</span> <span class="toc-text">indexOf()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lastIndexOf"><span class="toc-number">5.4.</span> <span class="toc-text">lastIndexOf()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#remove-1"><span class="toc-number">5.5.</span> <span class="toc-text">remove()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#set"><span class="toc-number">5.6.</span> <span class="toc-text">set()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ArrayList%E9%9B%86%E5%90%88%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%8A%E6%89%A9%E5%AE%B9"><span class="toc-number">6.</span> <span class="toc-text">ArrayList集合初始化及扩容</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%86ArrayList%E8%BD%AC%E6%8D%A2%E6%88%90%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8"><span class="toc-number">6.1.</span> <span class="toc-text">将ArrayList转换成线程安全</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E5%90%91%E9%93%BE%E8%A1%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">7.</span> <span class="toc-text">单向链表数据结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Map%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">8.</span> <span class="toc-text">Map接口的常用方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E8%A1%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">9.</span> <span class="toc-text">哈希表数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#put-k%EF%BC%8Cv-%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="toc-number">9.1.</span> <span class="toc-text">put(k，v)实现原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#get-k-%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="toc-number">9.2.</span> <span class="toc-text">get(k)实现原理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E7%B1%BBProperties"><span class="toc-number">10.</span> <span class="toc-text">属性类Properties</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE"><span class="toc-number">10.1.</span> <span class="toc-text">存储数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="toc-number">10.2.</span> <span class="toc-text">取数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TreeSet-%E9%9B%86%E5%90%88"><span class="toc-number">11.</span> <span class="toc-text">TreeSet 集合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TreeSet%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E6%AF%94%E8%BE%83%E5%99%A8"><span class="toc-number">11.1.</span> <span class="toc-text">TreeSet使用自定义比较器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E5%99%A8%E5%AE%9E%E7%8E%B0"><span class="toc-number">11.1.1.</span> <span class="toc-text">比较器实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E9%83%A8%E7%B1%BB%E5%AE%9E%E7%8E%B0%E6%AF%94%E8%BE%83%E5%99%A8"><span class="toc-number">11.1.2.</span> <span class="toc-text">内部类实现比较器</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%A0%91%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">12.</span> <span class="toc-text">自平衡二叉树数据结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="toc-number">13.</span> <span class="toc-text">集合工具类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#synchronizedList"><span class="toc-number">13.1.</span> <span class="toc-text">synchronizedList</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sort"><span class="toc-number">13.2.</span> <span class="toc-text">sort</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E6%9C%80%E4%B8%BB%E8%A6%81%E6%8E%8C%E6%8F%A1%E4%BB%80%E4%B9%88%E5%86%85%E5%AE%B9%EF%BC%9F"><span class="toc-number">14.</span> <span class="toc-text">集合最主要掌握什么内容？</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/&text=36、Java集合"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/&title=36、Java集合"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/&is_video=false&description=36、Java集合"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=36、Java集合&body=Check out this article: http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/&title=36、Java集合"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/&title=36、Java集合"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/&title=36、Java集合"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/&title=36、Java集合"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/&name=36、Java集合&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://www.ctong.top/2022/01/02/36%E3%80%81Java%E9%9B%86%E5%90%88/&t=36、Java集合"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2023
    Clover You
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/about/">关于</a></li><!--
     --><!--
       --><li><a href="/archives/">归档</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"复制到粘贴板！\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "复制成功！");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
